<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->  
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->  
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->  
<head>
    <title>Geospatial Data Center - Teaching</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Favicon -->
    <link rel="shortcut icon" href="favicon.ico">
	<style type="text/css">body {display:none;}</style>
	<script src="assets/plugins/head.load.min.js" data-headjs-load="assets/js/init.js"></script>
</head> 

<body>
<!--=== Style Switcher ===-->    
<!--/style-switcher-->
<!--=== End Style Switcher ===-->    

<div class="wrapper">
    <!--=== Header ===-->    
    <div class="header">   
        <!-- Navbar -->
	<script id="nav-template" type="text/x-handlebars-template">
        <div class="navbar navbar-default" role="navigation">
            <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="fa fa-bars"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">
                        <img id="logo-header" src="assets/img/logo1-default.png" alt="Logo">
                    </a>
                </div>
     <div class="collapse navbar-collapse navbar-responsive-collapse">
                    <ul class="nav navbar-nav">
        {{#each navigation}}
            {{#if subnav}}
						{{#equal title "Teaching" }}
						<li class="dropdown active"><a href="javascript:void(0);" class="dropdown-		toggle" data-toggle="dropdown">{{ title }}</a>
						{{else}}
						<li class="dropdown"><a href="javascript:void(0);" class="dropdown-toggle" 		data-toggle="dropdown">{{ title }}</a>
						{{/equal}}
                <ul class="dropdown-menu">
                    {{#each subnav}}
                       <li><a href="{{ link }}">{{ title }}</a></li>
                    {{/each}}
                </ul>
			</li>
			{{else}}
			{{#equal title "Teaching" }}
			<li class="active"><a href="{{ link }}">{{ title }}</a></li>
			{{else}}
			<li><a href="{{ link }}">{{ title }}</a></li>
			{{/equal}}
            {{/if}}
        {{/each}}
    	</ul>
	</div><!--/navbar-collapse-->	
            </div>    
        </div>   
	</script>
	<div id="nav"></div>
        <!-- End Navbar -->
    </div>
    <!--=== End Header ===-->   
    <!--=== End Header ===-->   

    <!--=== Breadcrumbs ===-->
    <div class="breadcrumbs">
        <div class="container">
            <h1 class="pull-left">Teaching</h1>
        </div>
    </div><!--/breadcrumbs-->
    <!--=== End Breadcrumbs ===-->

    <!--=== Content Part ===-->
    <div class="container content">		
 <!--/row-fluid-->    
	<script id="teaching-template" type="text/x-handlebars-template">	
		{{#each course}}	
		<div class="row clients-page">	
			<br>
    		<div class="headline"><h4>{{title}}</h4></div>
			<p><strong>{{instructors}}</strong></p>
			<br>
				<p>{{date}}</p><br>
				<p>{{req}}</p>
				{{#if summer}}<p>{{summer}}</p>{{/if}}
				<p>{{level}}</p>
				<p>{{description}}</p>
				<p>{{contact}}</p>  
			<br>
        </div>
		{{/each}}<!--/row-fluid-->   
	</script>
	<div id="courses"></div>
    </div><!--/container-->		
    <!--=== End Content Part ===-->

       <!--=== Footer ===-->
    <div class="footer">
        <div class="container">
            <div class="row">               
                <div class="col-md-4 md-margin-bottom-40">
                    <!-- Recent Blogs -->
                    <div class="posts">
                        <div class="headline"><h2>Recent Blog Posts</h2></div>
						<div id="testi"></div>
                       </div>
                    <!-- End Recent Blogs -->                     
                </div><!--/col-md-4-->
                <div class="col-md-4">
                    <!-- Contact Us -->
                    <div class="headline"><h2>Contact Us</h2></div> 
					<br>
					<div id="result"></div>
 <form id="contact_form">
                    <label>Name</label>
                    <div class="row margin-bottom-20">
                        <div class="col-md-7 col-md-offset-0">
                            <input type="text" class="form-control" id="contact_name">
                        </div>                
                    </div>
                    
                    <label>Email</label>
                    <div class="row margin-bottom-20">
                        <div class="col-md-7 col-md-offset-0">
                            <input type="text" class="form-control" id="contact_email">
                        </div>                
                    </div>
                    
                    <label>Message</label>
                    <div class="row margin-bottom-20">
                        <div class="col-md-11 col-md-offset-0">
                            <textarea rows="8" class="form-control" id="contact_message"></textarea>
                        </div>                
                    </div>
                    
                    <p><button type="button" class="btn-u" id="submit_btn">Send Message</button></p>
                </form>
                </div><!--/col-md-4-->
            </div>
        </div> 
    </div><!--/footer-->
    <!--=== End Footer ===-->

    <!--=== Copyright ===-->
        <div class="copyright">
        <div class="container">
            <div class="row">
                <div class="site-map">
                    <script id="sitemap-template" type="text/x-handlebars-template">
							<ul>
							{{#each site_map}}
								<li><a href="{{link}}">{{title}}</a>&nbsp;|&nbsp; </li>
							{{/each}}
						</ul>
					</script>
					<div id="sitemap"></div>
                </div>
				  <a href="index.html">
                        <img class="pull-right" id="logo-footer" src="assets/img/mit-greywhite-footer3.gif" alt="">
                    </a>
            </div>
        </div> 
    </div><!--/copyright--> <!--/copyright--> 
    <!--=== End Copyright ===-->
</div>

<!-- JS Global Compulsory -->           
<script type="text/javascript">
head.ready(function () {		
    $(document).ready(function() {
		$("body").fadeIn(1000);	
      	App.init();
		$("#submit_btn").click(function(){
				var output = "";
				var name = $("#contact_name").val();
				var email = $("#contact_email").val();	
				var message = $("#contact_message").val();
				var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
			
				var iscorrect = true;
				
				if (name == "" || name==null ){
					$("#contact_name").addClass("entry_error");
					iscorrect = false;	
				}
				if (email == "" || email == null || !filter.test(email)){
					$("#contact_email").addClass("entry_error");
					iscorrect = false;	
				}
				if (message == "" || message == null ){
					$("#contact_message").addClass("entry_error");
					iscorrect = false;	
				}
			
				if(iscorrect) {
					var post_data = {'name':name,'email':email,'message':message};
					
					$.post("contacto.php",post_data,function(response){
						if (response.type == "error"){
							output = '<div class="error">' + response.text  + '</div>';
						} else {
							output = '<div class="success">' + response.text  + '</div>';
							$("#contact_form input").val("");
							$("#contact_form textarea").val("");
						}
						
						$("#result").hide().html(output).slideDown();
						
					},'json');
					
				}

	 });		
			
    $("#contact_form input").keyup(function() { 
        $("#contact_form input").removeClass('entry_error'); 
        $("#result").slideUp();
    });
	$("#contact_form textarea").keyup(function() { 
        $("#contact_form textarea").removeClass('entry_error'); 
        $("#result").slideUp();
    });    
		
		$('#testi').rssfeed('http://geospatial.mit.edu:8080/rss',{limit:3,header:false},function(e){
		
		$('h4 a',e).each(function(i) {

			var title = $(this).text();
			if (title.length > 14) $(this).text(title.substring(0,60)+'...');
			
			var url = $(this).attr("href");
			var post = "http://geospatial.mit.edu:8080/" + url.substring(url.lastIndexOf('/',url.length-2)+1);	//,url.length-1	
			 $(this).attr("href",post);
		});
					
	});
		
		Handlebars.registerHelper('equal', function(key, value, options) {
  		if(key == value) {
			return options.fn(this);
		} else {
			return options.inverse(this);
  		}
		});
		
		var nav = $("#nav-template");
		var template = Handlebars.compile(nav.html());
		$('#nav').html(template(nav_data));
		
		var sitemap = $("#sitemap-template");
		var template = Handlebars.compile(sitemap.html());
		$('#sitemap').html(template(footer_data));
		
		var courses = $("#teaching-template");
		var template = Handlebars.compile(courses.html());
		$('#courses').html(template(teaching_data));

 });
})
</script>
<!--[if lt IE 9]>
    <script src="assets/plugins/respond.js"></script>
<![endif]-->

</body>
</html> 